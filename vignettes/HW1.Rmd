---
title: "HW1"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{HW1}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

0A. Gabby

0B. I have read and understood the entire syllabus.

0C. In undergrad at UW I took engineering statistics that used R, two CSE classes which used Java, an applied math class that used MatLab, a biological modeling class that used Python, and I was part of the experimental mathematics lab at UW where I used Python as well. In grad school thus far, I've used R in BIOST 514 and BIOST 515. Additionally, I use SAS at my current job. I used to be really comfortable in R in undergrad, but then didn't use it at all in the years between undergrad and grad school so I am relearning and remembering things I had forgotten how to do. I feel comfortable, but I am by no means proficient. 

# Q2: Simulating the Central Limit Theorem

```{r}
source("https://raw.githubusercontent.com/linnykos/561_s2024_public/main/homework1/generate_data.R")
```

2A. The function takes a number n and and repeats n times to fill an array sample_vec with draws from different distributions depending on the value of idx_vector.

2B.
```{r fig.width=8, fig.height=5}
hist1 <- rep(NA, 10000)
for (i in 1:10000) {
  hist1[i] <-  mean(generate_data(n=10))
}
#hist(hist1, breaks=100)

hist2 <- rep(NA, 10000)
for (i in 1:10000) {
  hist2[i] <-  mean(generate_data(n=1))
}

hist3 <- rep(NA, 10000)
for (i in 1:10000) {
  hist3[i] <-  mean(generate_data(n=2))
}

hist4 <- rep(NA, 10000)
for (i in 1:10000) {
  hist4[i] <-  mean(generate_data(n=3))
}

hist5 <- rep(NA, 10000)
for (i in 1:10000) {
  hist5[i] <-  mean(generate_data(n=5))
}

hist6 <- rep(NA, 10000)
for (i in 1:10000) {
  hist6[i] <-  mean(generate_data(n=100))
}

par(mfrow = c(2,3))

hist(hist2, breaks=100, main="Sample size: 1", xlab="Value", ylab="Frequency")
hist(hist3, breaks=100, main="Sample size: 2", xlab="Value", ylab="Frequency")
hist(hist4, breaks=100, main="Sample size: 3", xlab="Value", ylab="Frequency")
hist(hist5, breaks=100, main="Sample size: 5", xlab="Value", ylab="Frequency")
hist(hist1, breaks=100, main="Sample size: 10", xlab="Value", ylab="Frequency")
hist(hist6, breaks=100, main="Sample size: 100", xlab="Value", ylab="Frequency")
```

2C. The plots show that as our sample size increases the distribution of the sample means converges to a normal distribution, even if the original distributions that they came from are not normal.

# Q3: Basic data analysis

```{r}
df <- read.csv("https://raw.githubusercontent.com/linnykos/561_s2024_public/main/homework1/sea-ad.csv")

head(df)

summary(df)
```

3A. head(df) displays the first 6 rows from our dataset and summary(df) prints out a summary table that list the number of observations and the class type of the variable for categorical variables and lists the minimum, maximum, median, mean, 1st & 3rd quartile, and number of missing observations for numerical variables.

3B. The dimensions of df are 84x7 and all variables are characters except for Last.CASI.Score which is an integer.
```{r}
library(tidyverse)
glimpse(df)
```
3C.
```{r hist, fig.width=8, fig.height=5}
df$Age.at.Death[df$Age.at.Death == "90+"] <- "90"
df <- df %>% mutate(Age.at.Death = as.numeric(Age.at.Death))
glimpse(df)
hist(df$Age.at.Death, breaks=5, main="Histogram of donor age", xlab="Donor age", ylab="Frequency")
```

3D.
```{r}
sex_levels <- c("Male", "Female")
df$Sex <- factor(df$Sex, levels = sex_levels)

APOE4_levels <- c("Y", "N")
df$APOE4.Status <- factor(df$APOE4.Status, levels = APOE4_levels)

cog_levels <- c("Dementia", "No dementia")
df$Cognitive.Status <- factor(df$Cognitive.Status, levels = cog_levels)

braak_levels <- c("Braak 0", "Braak I", "Braak II", "Braak III", "Braak IV", "Braak V", "Braak VI")
df$Braak <- factor(df$Braak, levels = braak_levels)
```

3E. This summary is more informative because we can see the summary statistics for Age.at.Death and we can see the counts for each entry for the categorical variables which tells us way more than just how many entries there are the class type.
```{r summary, out.width = "400px", fig.align="center"}
summary(df)
```
3F.
```{r out.width = "200px", fig.align="center"}
table(df$Braak, df$Cognitive.Status)
```

3G. Based on this table, I learned that there seems to be an association between last CASI scores and a dementia diagnosis. It seems like lower CASI scores are associated with greater incidence of dementia and higher scores are associated with lower incidence of dementia.
```{r table, out.width = "200px", fig.align="center"}
df$CASI <- cut(df$Last.CASI.Score, quantile(df$Last.CASI.Score, 0:4/4, na.rm=TRUE))
table(df$CASI, df$Cognitive.Status)
```

